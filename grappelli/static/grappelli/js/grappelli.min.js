var grp={jQuery:jQuery.noConflict(!0)},django={jQuery:grp.jQuery},inputTypes=["[type='search']","[type='email']","[type='url']","[type='tel']","[type='number']","[type='range']","[type='date']","[type='month']","[type='week']","[type='time']","[type='datetime']","[type='datetime-local']","[type='color']"].join(",");!function(a){grappelli.getFormat=function(a){if("date"==a){var b=DATE_FORMAT.toLowerCase().replace(/%\w/g,function(a){return a=a.replace(/%/,""),a+a});return b}},grappelli.cleanInputTypes=function(){a("form").each(function(){a(this).find(":input").filter(inputTypes).each(function(){a(this).attr("type","text")})})},grappelli.initDateAndTimePicker=function(){a("p.datetime").each(function(){var b=a(this).html();b=b.replace(/^\w*: /,""),b=b.replace(/<br>[^<]*: /g,"<br>"),a(this).html(b)});var b={constrainInput:!1,showOn:"button",buttonImageOnly:!1,buttonText:"",changeMonth:!0,changeYear:!0,dateFormat:grappelli.getFormat("date"),showButtonPanel:!0,showAnim:"",beforeShow:function(a,b,c){grappelli.datepicker_instance=this}},c=a("input[class*='vDateField']:not([id*='__prefix__'])");c.datepicker(b),"undefined"!=typeof IS_POPUP&&IS_POPUP&&c.datepicker("disable"),a(document).on("click",".ui-datepicker-current",function(){a.datepicker._selectDate(grappelli.datepicker_instance),grappelli.datepicker_instance=null}),a("input[class*='vTimeField']:not([id*='__prefix__'])").grp_timepicker()},grappelli.initFilter=function(){a("a.grp-pulldown-handler").click(function(){var b=a(this).closest(".grp-pulldown-container");a(b).toggleClass("grp-pulldown-state-open").children(".grp-pulldown-content").toggle()}),a("a.grp-pulldown-handler").bind("mouseout",function(){a(this).blur()}),a(".grp-filter-choice").change(function(){location.href=a(this).val()})},grappelli.initSearchbar=function(){var b=a("input.grp-search-field");b.focus()},grappelli.updateSelectFilter=function(a){"undefined"!=typeof SelectFilter&&(a.find(".selectfilter").each(function(a,b){var c=b.name.split("-");SelectFilter.init(b.id,c[c.length-1],!1,"{% admin_media_prefix %}")}),a.find(".selectfilterstacked").each(function(a,b){var c=b.name.split("-");SelectFilter.init(b.id,c[c.length-1],!0,"{% admin_media_prefix %}")}))},grappelli.reinitDateTimeFields=function(a){a.find(".vDateField").datepicker({constrainInput:!1,showOn:"button",buttonImageOnly:!1,buttonText:"",dateFormat:grappelli.getFormat("date")}),a.find(".vTimeField").grp_timepicker()},grappelli.get_app_label=function(a){var b=a.next("a");if(b.length>0){var c=b.attr("href").split("?")[0].split("/");return c[c.length-3]}return!1},grappelli.get_model_name=function(a){var b=a.next("a");if(b.length>0){var c=b.attr("href").split("?")[0].split("/");return c[c.length-2]}return!1},grappelli.get_query_string=function(a){var b=a.next("a");if(b.length>0){var c=b.attr("href").split("/");return pairs=c[c.length-1].replace("?","").split("&"),pairs.join(":")}return!1}}(grp.jQuery);
